--- 
import Layout from "@/layouts/Layout.astro"; 
import { Forward, Play } from "lucide-react";

if (!Astro.locals.user) {
    return Astro.redirect("/login");
}
---

<Layout title="Friends • Rock It!" currentPage="Friends">
    <div class="mt-10 md:mt-0 px-4 md:px-12 flex flex-col">
        <!-- Contenedor de las 3 columnas -->
        <div class="flex flex-1 justify-between space-x-4 mt-8">
            <!-- Columna izquierda vacía -->
            <div class="flex-1"></div>

            <!-- Columna central con scroll -->
            <div class="relative flex-1 flex flex-col items-center space-y-6 overflow-auto p-4 max-h-[76vh]">
                <!-- Lista de canciones -->
                {Array.from({ length: 20 }).map((_, index) => (
                    <div class="group w-full bg-neutral-700 rounded-md p-4 flex items-center space-x-4 relative">
            
                        {/* Imagen de la canción */}
                        <div class="relative w-24 h-24 hover:cursor-pointer">
                            <img 
                                src="/song-placeholder.png" 
                                alt="Imagen" 
                                class="w-full h-full object-cover rounded-md group-hover:opacity-40 transition-opacity"
                            />

                            {/* Icono de play centrado */}
                            <Play className="h-8 w-8 absolute inset-0 m-auto text-4xl opacity-0 group-hover:opacity-100 transition-opacity fill-current" />
                        </div>
                        
                        {/* Contenedor de los textos - nombre de la canción, autor y álbum */}
                        <div class="flex flex-col overflow-hidden">
                            <a href="" class="text-left hover:underline truncate font-semibold text-lg">Nombre de la canción {index + 1}</a>
                            <a href="" class="text-left hover:underline truncate text-md text-gray-400">Autor de la canción {index + 1}</a>
                            <a href="" class="text-left hover:underline truncate text-sm text-gray-400">Álbum de la canción {index + 1}</a>
                        </div>

                        {/* Mensaje de "Compartido por Nicorebo18" dentro de cada canción */}
                        <div class="absolute -top-3 -right-2 bg-gradient-to-r from-[#ee1086] to-[#ce5254] text-white text-sm px-2 rounded-md flex items-center space-x-2">
                            <Forward className="h-7" />
                            <span>Shared from user {index + 1}</span>
                        </div>
                    </div>
                ))}
            </div>

            <!-- Columna derecha con barra de búsqueda y lista de usuarios -->
            <div class="flex-1 bg-neutral-800 rounded-2xl p-4 flex flex-col space-y-4">

                <h1 class="text-2xl text-white font-semibold">Usuarios</h1>
                <!-- Barra de búsqueda -->
                <div class="flex items-center bg-neutral-700 rounded-full p-2 my-4 mx-14">
                    <input 
                        type="text" 
                        placeholder="Buscar usuarios..." 
                        class="flex-1 bg-transparent outline-none text-white placeholder-gray-400 px-2"
                    />
                    <i class="fas fa-search text-gray-400"></i>
                </div>

                <!-- Lista de usuarios -->
                <div class="flex flex-col space-y-4 overflow-y-auto">
                    {Array.from({ length: 10 }).map((_, index) => (
                        <div class="flex items-center bg-neutral-700 rounded-md p-4 space-x-4">
                            <!-- Imagen de perfil del usuario -->
                            <img 
                                src="/user-placeholder.png" 
                                alt="Usuario" 
                                class="w-12 h-12 object-cover rounded-full"
                            />
                            
                            <!-- Detalles del usuario -->
                            <div class="flex flex-col">
                                <p class="text-white font-semibold">Usuario {index + 1}</p>
                                <p class="text-sm text-gray-400">Detalles del usuario</p>
                            </div>
                        </div>
                    ))}
                </div>
            </div>
        </div>
    </div>
</Layout>
