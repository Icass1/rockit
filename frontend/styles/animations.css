/* ─────────────────────────────────────────────
   animations.css — @keyframes y clases de animación
   ───────────────────────────────────────────── */

/* ── Skeleton loader ──────────────────────────
   Usado en componentes que muestran un estado de carga.
   Importar Skeleton.css directamente en el componente,
   o usar esta clase global si no se necesita aislamiento.
   ─────────────────────────────────────────── */
.skeleton {
    background: linear-gradient(
        135deg,
        rgba(130, 130, 130, 0.2) 8%,
        rgba(130, 130, 130, 0.3) 18%,
        rgba(130, 130, 130, 0.2) 33%
    );
    background-size: 400% 400%;
    animation: wave-diagonal 10s infinite ease-out;
}

@keyframes wave-diagonal {
    0% {
        background-position: -400% -400%;
    }
    100% {
        background-position: 400% 400%;
    }
}

/* ── Progress bar ─────────────────────────────
   Barra de progreso animada con degradado en diagonal.
   Usada en DownloadAnimation y similares.
   ─────────────────────────────────────────── */
.progress-bar {
    background: repeating-linear-gradient(
        45deg,
        rgb(115 115 115) 0%,
        #fb64663e 30%,
        #ee10864f 40%,
        rgb(115 115 115) 50%
    );
    background-size: 200% 100%;
    animation: progress-move 5s linear infinite;
}

@keyframes progress-move {
    0% {
        background-position: 100% 0;
    }
    100% {
        background-position: 0% 0;
    }
}

/* ── Download fly animation ───────────────────
   Animación de "volar al downloader" al pulsar descargar.
   Requiere las custom properties --start-x, --start-y,
   --end-x, --end-y, --control-x, --control-y
   seteadas inline desde JS.
   ─────────────────────────────────────────── */
.download-fly-animation {
    position: fixed;
    pointer-events: none;
    z-index: 9999;
    animation:
        download-u-curve-x 700ms cubic-bezier(0.41, 0.38, 0.64, 0.61) forwards,
        download-u-curve-y 700ms cubic-bezier(0.87, -0.52, 0.89, 0.59) forwards;
}

@keyframes download-u-curve-x {
    0% {
        left: var(--start-x);
    }
    100% {
        left: var(--end-x);
    }
}

@keyframes download-u-curve-y {
    0% {
        top: var(--start-y);
        height: 5rem;
        width: 5rem;
    }
    100% {
        top: var(--end-y);
        height: 2.5rem;
        width: 2.5rem;
    }
}

/* ── LikeButton — llama ───────────────────────
   Animación de llama del botón de like.
   Los @keyframes se definen aquí de forma global
   para que LikeButton.css pueda referenciarlos.
   ─────────────────────────────────────────── */
@keyframes flicker {
    0% {
        transform: rotate(-4deg);
    }
    20% {
        transform: rotate(4deg);
    }
    40% {
        transform: rotate(-4deg);
    }
    60% {
        transform: rotate(4deg) scaleY(1.04);
    }
    80% {
        transform: rotate(-8deg) scaleY(0.92);
    }
    100% {
        transform: rotate(4deg);
    }
}

@keyframes rise {
    0% {
        transform: translateY(0) scale(1);
        opacity: 1;
    }
    100% {
        transform: translateY(-10px) scale(0.5);
        opacity: 0;
    }
}

/* ── LikeButton — mano ────────────────────────
   Usada via className="hand-rotate" desde LikeButton.tsx
   ─────────────────────────────────────────── */
.hand-rotate {
    animation: hand-tilt 0.5s ease-in-out;
}

@keyframes hand-tilt {
    0% {
        transform: rotate(0deg);
    }
    25% {
        transform: rotate(-20deg);
    }
    50% {
        transform: rotate(20deg);
    }
    100% {
        transform: rotate(0deg);
    }
}
