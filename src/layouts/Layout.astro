---
/* Sidebar links to other pages, playlists (lo que queramos) */
const links = [
  { 
    href: "/", 
    label: "Home", 
    icon: `
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8 M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
    </svg>
    `,
	},
	{
		href: "/library",
		label: "Library",
		icon: `
	<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
		<path d="m16 6 4 14 M12 6v14 M8 8v12 M4 4v16"></path>
	</svg>
    `,
	},
	{
		href: "/search",
		label: "Search",
		icon: `
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="11" cy="11" r="8"></circle>
        <path d="m21 21-4.3-4.3"></path>
    </svg>
    `,
	},
	/*{ 
    href: "#", 
    label: "Test", 
    icon: `
      <img src="path/to/icon.png" alt="Test for an album" width="20" height="20">
    `
  },*/
];

import "@/styles/default.css";
import { Shuffle,SkipBack,SkipForward,CirclePlay,Volume2,House } from 'lucide-astro';

export interface Props {
	activePage: string;
	title: string;
}

const { activePage } = Astro.props;
const { title } = Astro.props;
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="description"
			content="Rock It! - A music player by Icass & Nicorebo18"
		/>
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/rockit-logo.ico" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
	</head>
	<body>
		<main class="grid grid-cols-[min-content_1fr]">
			<div class="w-10 bg-black"></div>
			<div class="sidebar" id="sidebar">
				<button id="toggle-button">☰</button>
				<nav>
					<ul>
						{
							links.map((link) => (
								<li>
									<a
										href={link.href}
										aria-label={link.label}
										class={
											link.label === activePage
												? "active-icon"
												: ""
										}
									>
										<div
											class="icon"
											set:html={link.icon}
										/>
										{/* <span class="icon-text">{link.label}</span> */}
									</a>
								</li>
							))
						}
					</ul>
				</nav>
			</div>
			<div class="min-w-0 max-w-full h-full">
				<slot />
			</div>
		</main>
		<footer class="bg-black text-white py-4 px-5 fixed bottom-0 left-0 w-full z-50 min-w-[500px] h-24 box-border">
			<div class="flex justify-center items-center w-full">

				<!-- Sección Izquierda -->
				<div class="flex items-center w-1/3 space-x-3">
					<img id="footer-album-cover" src="/song-placeholder.png" alt="Album Cover" class="w-16 h-16 rounded-md">
					<div class="flex flex-col">
					<span id="footer-song-title" class="font-semibold">Escoge una canción</span>
					<span id="footer-song-artist" class="text-sm text-gray-400">;P</span>
					</div>
				</div>
			
				<!-- Sección Central -->
				<div class="flex flex-col items-center justify-center w-1/3 space-y-1">
					<div class="flex items-center space-x-3">
					<!-- Iconos de control -->
					<Shuffle class="w-4 h-4 text-gray-400 hover:text-white cursor-pointer"/>
					<SkipBack class="w-5 h-5 fill-current text-gray-400 hover:text-white cursor-pointer"/>
					<CirclePlay class="w-8 h-8 text-gray-400 hover:text-white cursor-pointer"/>
					<SkipForward class="w-5 h-5 fill-current text-gray-400 hover:text-white cursor-pointer"/>
					</div>
					<!-- Barra de progreso -->
					<div class="flex items-center space-x-2">
					<span id="current-time" class="text-xs">0:00</span>
					<div class="relative w-4/5 h-1 bg-gray-400">
						<div class="absolute top-0 left-0 h-20px bg-green-500" style="width: 40%;"></div>
					</div>
					<span id="total-time" class="text-xs">0:00</span>
					</div>
				</div>
		
			<!-- Sección Derecha -->
				<div class="flex items-center w-1/3 justify-end space-x-3">
					<Volume2 class="w-5 h-5 text-gray-400 hover:text-white cursor-pointer"/>
					<!-- Control de volumen -->
					<div class="relative w-16 h-1 bg-gray-400">
					<div class="absolute top-0 left-0 h-full bg-green-500" style="width: 50%;"></div>
					</div>
				</div>

			</div>
		</footer>
	</body>
	
	<style is:global>
		:root {
			--accent: 136, 58, 234;
			--accent-light: 224, 204, 250;
			--accent-dark: 49, 10, 101;
			--accent-gradient: linear-gradient(
				45deg,
				rgb(var(--accent)),
				rgb(var(--accent-light)) 30%,
				white 60%
			);
		}
		html, main {
			font-family: system-ui, sans-serif;
			background: #0b0b0b;
		}
		code {
			font-family:
				Menlo,
				Monaco,
				Lucida Console,
				Liberation Mono,
				DejaVu Sans Mono,
				Bitstream Vera Sans Mono,
				Courier New,
				monospace;
		}

		/* Estilos del sidebar basados en tu archivo styles.css */
		.sidebar {
			position: relative;
			width: 60px;
			background: #000;
			color: white;
			display: inline;
			flex-direction: column;
			justify-content: center;
			position: fixed;
			z-index: 40;
			top: 0;
			left: 0;
			bottom: 0;
			transition: width 0.3s ease;
		}

		.sidebar.active {
			width: 250px;
		}

		.sidebar nav ul {
			list-style: none;
			padding: 0;
			margin: 100px 0;
			text-align: center;
		}

		.sidebar nav ul li {
			margin: 20px 10px;
			justify-content: center;
		}

		.sidebar nav ul li a {
			display: inline-block;
			align-items: center;
			justify-content: center;
			color: white;
			text-decoration: none;
			height: auto;
		}

		.sidebar nav ul li a {
			justify-content: center;
			transition: margin-left 0.3s ease;
		}

		.sidebar.active nav ul li a {
			margin-left: 30px;
		}

		.icon {
			display: flex;
			align-items: center;
			justify-content: center;
			width: 30px;
			height: 30px;
			align-items: center;
			border-radius: 4px;
		}

		.active-icon .icon {
			color: black;
			background-color: white;
		}

		.sidebar.active nav ul li a .icon-text {
			opacity: 1;
			transform: translateX(0);
		}

		#toggle-button {
			position: fixed;
			top: 20px;
			left: 5px;
			background: #000;
			border: none;
			color: white;
			font-size: 22px;
			cursor: pointer;
			z-index: 1000;
			padding: 10px;
			margin: 0;
			width: 50px;
			text-align: center;
		}
	</style>
</html>
